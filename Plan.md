**1. Перечень автоматизируемых сценариев**

****Проверка заполнения и отправки веб-формы (UI)****

**Набор тест кейсов для случая: Оплата путешествия по дебетовой карте**

**Заполнение и отправка формы c валидными данными (Happy Path)**

*Входными данными являются - специальные номера карт, которые предоставлены для тестирования*

* APPROVED карта с номером – ``1111 2222 3333 4444``

* DECLINED карта с номером – ``5555 6666 7777 8888``

**В случаи проверки успешной операции по карте**

- Заполнить поле «Номер карты» ``1111 2222 3333 4444``
- Заполнить поле «Месяц» валидным значением от 01 до 12 ```(#05)```
- Заполнить поле «Год» валидным значением не меньше текущего года ```(#24)```
- Заполнить поле «Владелец» на английской раскладке ```(#Ivan Ivanov)```
- Заполнить поле CVC/CVV валидным трехзначным числом ```(#321)```
- Нажать продолжить

*Ожидаемым результатом является, появления сообщения об успешной операции, одобренной банком*

**В случаи проверки отклоненной операции по карте**

- Заполнить поле «Номер карты» ``5555 6666 7777 8888``
- Заполнить поле «Месяц» валидным значением от 01 до 12 ```(# 05)```
- Заполнить поле «Год» валидным значением не меньше текущего года ```(# 24)```
- Заполнить поле «Владелец» на английской раскладке ```(# Ivan Ivanov)```
- Заполнить поле CVC/CVV валидным трехзначным числом ```(#321)```
- Нажать продолжить

*Ожидаемым результатом является, появления сообщения об ошибки, отказ в проведении операции банком*

**Проверка поля «Номер карты» на не валидные значения**

* Значения, не удовлетворяющие формату по количеству знаков, менее 16 численных значений символов ```(# 1111 2222 3333)```

* Пустое поле

* 1 числовое значение ```(# 1)```

* 15-ти значное число ```(# 5555 6666 7777 888)```

*Ожидаемым результатом является, появления сообщения «Неверный формат»*

**Проверка поля «Месяц» на не валидные значения**
* Пустое поле
* Однозначное число ```(#1)```

*Ожидаемым результатом является, появления сообщения «Неверный формат»*

* Граничное значение ```(#00)```
* Граничное значение ```(#13)```
* Не валидное значение ```(#24)```

*Ожидаемым результатом является, появления сообщения «Неверно указан срок действия карты»*

**Проверка поля «Год» на не валидные значения**

* Пустое поле
* Однозначное число ```(#1)```

*Ожидаемым результатом является, появления сообщения «Неверный формат»*

* Значение меньше текущего года
* Значение больше текущего года на 5 лет

*Ожидаемым результатом является, появления сообщения «Неверно указан срок действия карты»*

**Проверка поля «Владелец» на не валидные значения**
* Пустое поле

*Ожидаемым результатом является, появления сообщения «Поле обязательно для заполнения»*

**Проверка поля «CVC/CVV» на не валидные значения**
* Пустое поле
* Однозначное число (#1)

*Ожидаемым результатом является, появления сообщения «Неверный формат»*


# Проверка результатов в СУБД приложения после заполнения и отправки формы
*Набор тест кейсов для случая: Оплата путешествия по дебетовой карте*

*Входными данными являются - специальные номера карт, которые предоставлены для тестирования*

* APPROVED карта с номером – ``1111 2222 3333 4444``

* DECLINED карта с номером – ``5555 6666 7777 8888``

**Проверка стоимости заказа**

- Заполнить поле «Номер карты» ```1111 2222 3333 4444```
- Заполнить поле «Месяц» валидным значением от 01 до 12 ```(# 05)```
- Заполнить поле «Год» валидным значением не меньше текущего года ```(# 24)```
- Заполнить поле «Владелец» на английской раскладке ```(# Ivan Ivanov)```
- Заполнить поле CVC/CVV валидным трехзначным числом ```(# 321)```
- Нажать продолжить
- Сделать запрос в СУБД в таблицу «payment_entity»

*Ожидаемым результатом является, появления новой записи со значением amount в таблице, равное стоимости путешествия  45 000 р.*


**Проверка статуса заказа**

**В случаи проверки записи при успешной оплате**

- Заполнить поле «Номер карты» ```1111 2222 3333 4444```
- Заполнить поле «Месяц» валидным значением от 01 до 12 ```(# 05)```
- Заполнить поле «Год» валидным значением не меньше текущего года ```(# 24)```
- Заполнить поле «Владелец» на английской раскладке ```(# Ivan Ivanov)```
- Заполнить поле CVC/CVV валидным трехзначным числом ```(# 321)```
- Нажать продолжить
- Сделать запрос в СУБД в таблицу «payment_entity»

*Ожидаемым результатом является, появления новой записи со значением «APPROVED» в графе status*

**В случаи проверки отклоненной операции по карте**

- Заполнить поле «Номер карты» ```5555 6666 7777 8888```
- Заполнить поле «Месяц» валидным значением от 01 до 12 ```(# 05)```
- Заполнить поле «Год» валидным значением не меньше текущего года ```(# 24)```
- Заполнить поле «Владелец» на английской раскладке ```(# Ivan Ivanov)```
- Заполнить поле CVC/CVV валидным трехзначным числом ```(# 321)```
- Нажать продолжить
- Сделать запрос в СУБД в таблицу «payment_entity»

*Ожидаемым результатом является, появления новой записи со значением «DECLINED» в графе status*


**2. Перечень используемых инструментов с обоснованием выбора**
- Язык программирования для написания кода авто-тестов, Java
- Среда разработки по написанию кода, IntelliJ IDEA
- Библиотека *Selenide* для автоматизации тестирования веб форм.
- Библиотека *Rest.assured* в случае если есть возможность отправка API запроса
- DBUtils для фиксации создания записи в СУБД операций покупки тура.
- Инструмент для формирования отчетности по проведенному тестированию, Allure

**3. Перечень необходимых разрешений/данных/доступов**
- Предоставление файла приложения «Заказ тура» для тестирования
- User story от менеджера
- Данные тестовых банковских карт (номера)
- Доступ к симулятору банковских сервисов для отслеживания успешности отправки формы

**4. Перечень и описание возможных рисков при автоматизации**
- Обновление приложения, смена формы покупки тура, не актуальные локаторы для автоматизации веб формы
- Смена тестовых данных по банковским картам
- Смена работа по API.

**6. Интервальная оценка с учётом рисков (в часах)**
- 12 часов, дальнейшая поддержка и рефакторинг кода в случае изменения формы

**7. План сдачи работ**
- 11.05 - Сдача тест-плана, правка тест плана
- 16.05 – Автотесты для приложения и результаты прогона по ним (UI,СУБД)
- 18.05 – Сдача отчетности по автоматизации
